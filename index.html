<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScholarLink - Find Your Next Research Opportunity</title>
    <link rel="icon" type="image/png" href="favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="favicon/favicon.svg" />
    <link rel="shortcut icon" href="favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png" />
    <link rel="manifest" href="favicon/site.webmanifest" />
    
    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VDTJJTMPQL"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-VDTJJTMPQL');
    </script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif']
            }
          }
        }
      };
    </script>
    <script> window.FontAwesomeConfig = { autoReplaceSvg: 'nest'};</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <style>::-webkit-scrollbar { display: none;}</style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap">
    <script>
      // Ensure Inter font is loaded
      if (document.fonts) {
        document.fonts.ready.then(() => {
          document.documentElement.style.fontFamily = "'Inter', sans-serif";
        });
      }
    </script>
    <style>
      body {
        font-family: 'Inter', sans-serif !important;
      }
      
      /* Preserve Font Awesome icons */
      .fa, .fas, .far, .fal, .fab {
        font-family: "Font Awesome 6 Free", "Font Awesome 6 Brands" !important;
      }
    </style>
    <style>
  .highlighted-section {
    outline: 2px solid #3F20FB;
    background-color: rgba(63, 32, 251, 0.1);
  }

  .edit-button {
    position: absolute;
    z-index: 1000;
  }

  ::-webkit-scrollbar {
    display: none;
  }

  html, body {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  </style>
</head>
<body>

<div id="landing-page-wrapper" class="bg-white text-neutral-800 overflow-x-hidden">

    <header id="header" class="sticky top-0 z-50 bg-white/95 backdrop-blur-lg border-b border-neutral-200/50">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center overflow-hidden">
                    <img src="ScholarLink-logo-removebg-preview.png" alt="ScholarLink Logo" class="h-32 w-auto transform scale-200">
                </div>
                <div class="flex items-center space-x-4">
                    <a href="https://app.thescholarlink.io/" class="bg-neutral-900 text-white px-5 py-2.5 rounded-lg text-sm hover:bg-neutral-800 transition-all duration-200 shadow-sm inline-block">
                        Get Started - It's Free
                    </a>
                </div>
            </div>
        </div>
    </header>

    <main id="main-content">
        <section id="hero-section" class="bg-gradient-to-b from-white via-neutral-50/30 to-white py-20 md:py-32 h-[900px] relative overflow-hidden" style="--wipe-bg: #fff;">
            <div class="absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(0,0,0,0.02),transparent_50%)]"></div>
            <div class="absolute top-20 left-1/4 w-64 h-64 bg-neutral-200/20 rounded-full blur-3xl"></div>
            <div class="absolute bottom-20 right-1/4 w-96 h-96 bg-neutral-300/20 rounded-full blur-3xl"></div>
            
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10">
                <h1 class="hero">
                    <span class="hero-line">
                        <span class="hero-word">Find Your Next</span>
                    </span><br>
                    <span class="hero-line">
                        <span class="hero-word">Research</span>
                        <span class="rotate" aria-live="polite" aria-atomic="false" data-words='["Position","Topic","Grant","Opportunity"]'>
                            <span class="rotate__inner">Position</span>
                            <span class="rotate__wipe" aria-hidden="true"></span>
                        </span>
                    </span>
                </h1>
                
                <p class="mt-6 max-w-2xl mx-auto text-xl text-neutral-600 leading-relaxed">
                    ScholarLink helps you discover the most active academic researchers by topic, university, and publication history. Stop guessing, start connecting.
                </p>
                
                <div class="mt-10 flex flex-col sm:flex-row justify-center gap-4">
                    <a href="https://app.thescholarlink.io/" class="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-xl text-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 inline-block">
                        Get Started for Free
                    </a>
                </div>
                
                <div id="product-preview" class="mt-20 max-w-7xl mx-auto relative">
    <div class="absolute -inset-4 bg-neutral-200/30 rounded-3xl blur-2xl"></div>
    <div class="relative bg-white p-6 border border-neutral-200/50 rounded-2xl shadow-2xl backdrop-blur-sm">
        <div class="flex items-center justify-start p-4 border-b border-neutral-200/50">
            <div class="flex items-center gap-2 mr-6">
                <span class="w-3 h-3 bg-neutral-400 rounded-full"></span>
                <span class="w-3 h-3 bg-neutral-400 rounded-full"></span>
                <span class="w-3 h-3 bg-neutral-400 rounded-full"></span>
            </div>
            <div class="text-base font-semibold text-purple-600 mr-8">ScholarLink</div>
            <div class="flex items-center space-x-3">
                <div class="text-sm text-neutral-600 hover:text-neutral-900 transition-colors cursor-pointer">Dashboard</div>
                <div class="text-sm text-neutral-900 bg-neutral-100 px-3 py-1.5 rounded-lg border-b-2 border-purple-600 transition-colors">Researchers</div>
                <div class="text-sm text-neutral-600 hover:text-neutral-900 transition-colors cursor-pointer">Papers</div>
                <div class="text-sm text-neutral-600 hover:text-neutral-900 transition-colors cursor-pointer">Grants</div>
                <div class="text-sm text-neutral-600 hover:text-neutral-900 transition-colors cursor-pointer">Positions</div>
            </div>
        </div>
        
        <div class="flex gap-6 p-6 h-[450px]">
            <div class="w-1/4 hidden md:block border-r border-neutral-200/50 pr-6">
                <h3 class="text-xs text-neutral-500 uppercase tracking-wider mb-4 text-left">Universities</h3>
                <div class="flex flex-wrap gap-2 mb-8">
                    <span class="bg-neutral-100 text-neutral-700 px-3 py-1.5 text-sm rounded-full">Drexel</span>
                    <span class="bg-neutral-900 text-white px-3 py-1.5 text-sm rounded-full">UPenn</span>
                    <span class="bg-neutral-100 text-neutral-700 px-3 py-1.5 text-sm rounded-full">MIT</span>
                    <span class="bg-neutral-100 text-neutral-700 px-3 py-1.5 text-sm rounded-full">Columbia</span>
                </div>
                <h3 class="text-xs text-neutral-500 uppercase tracking-wider mb-4 text-left">Fields of Interest</h3>
                <div class="flex flex-wrap gap-2">
                    <span class="bg-white border-2 border-neutral-200 text-neutral-700 px-3 py-1.5 text-sm rounded-lg hover:border-neutral-400 transition-colors">Bioengineering</span>
                    <span class="bg-white border-2 border-neutral-200 text-neutral-700 px-3 py-1.5 text-sm rounded-lg hover:border-neutral-400 transition-colors">Biology</span>
                    <span class="bg-white border-2 border-neutral-200 text-neutral-700 px-3 py-1.5 text-sm rounded-lg hover:border-neutral-400 transition-colors">Chemistry</span>
                    <span class="bg-white border-2 border-neutral-200 text-neutral-700 px-3 py-1.5 text-sm rounded-lg hover:border-neutral-400 transition-colors">Computer Science</span>
                </div>
            </div>
            
            <div class="w-full md:w-3/4">
                <div class="relative mb-6">
                    <i class="fa-solid fa-search absolute left-4 top-1/2 -translate-y-1/2 text-neutral-400"></i>
                    <input type="text" placeholder="Search for researchers by name or university..." class="w-full pl-12 pr-4 py-3 border-2 border-neutral-200 rounded-xl bg-white text-sm focus:border-neutral-400 focus:outline-none transition-colors">
                </div>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    <div class="border-2 border-neutral-200 rounded-xl p-5 bg-white shadow-sm hover:shadow-md hover:border-neutral-300 transition-all">
                        <div class="flex items-center gap-3">
                            <img class="w-12 h-12 rounded-full object-cover" src="https://storage.googleapis.com/uxpilot-auth.appspot.com/1329ea6240-4388985b1491eea28f90.png" alt="professional headshot of a middle-aged male professor with glasses, clean modern academic style">
                            <div>
                                <p class="text-sm font-semibold text-left">Dr. Allen, Mark G.</p>
                                <p class="text-xs text-neutral-500 text-left">Professor, Chemical Engineering</p>
                                <p class="text-xs text-blue-600 text-left">University of Pennsylvania</p>
                            </div>
                        </div>
                        <div class="mt-4 space-y-3 text-xs">
                            <div class="flex justify-between items-center">
                                <p class="text-neutral-600">H-Index:</p>
                                <span class="bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium">94</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <p class="text-neutral-600">Citations:</p>
                                <span class="bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium">28,450</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <p class="text-neutral-600">Recent Papers:</p>
                                <span class="bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium">12 (2024)</span>
                            </div>
                        </div>
                        <div class="mt-4 flex flex-wrap gap-1">
                            <span class="bg-neutral-100 text-neutral-600 px-2 py-0.5 rounded text-xs">MEMS</span>
                            <span class="bg-neutral-100 text-neutral-600 px-2 py-0.5 rounded text-xs">Sensors</span>
                        </div>
                    </div>
                    
                    <div class="border-2 border-blue-300 rounded-xl p-5 bg-gradient-to-br from-blue-50 to-purple-50 shadow-lg relative transform hover:scale-105 transition-transform">
                        <div class="absolute -top-3 right-3 bg-gradient-to-r from-orange-500 to-red-500 text-white text-xs px-3 py-1 rounded-full flex items-center gap-1 font-medium shadow-lg">
                            <i class="fa-solid fa-fire text-white"></i>Top Match
                        </div>
                        <div class="flex items-center gap-3">
                            <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-3.jpg" class="w-12 h-12 rounded-full object-cover">
                            <div>
                                <p class="text-sm font-semibold text-left">Dr. Rajeev Alur</p>
                                <p class="text-xs text-neutral-500 text-left">Professor, Computer Science</p>
                                <p class="text-xs text-blue-600 text-left">University of Pennsylvania</p>
                            </div>
                        </div>
                        <div class="mt-4 space-y-3 text-xs">
                            <div class="flex justify-between items-center">
                                <p class="text-neutral-600">H-Index:</p>
                                <span class="bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium">112</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <p class="text-neutral-600">Citations:</p>
                                <span class="bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium">35,200</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <p class="text-neutral-600">Recent Papers:</p>
                                <span class="bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium">18 (2024)</span>
                            </div>
                        </div>
                        <div class="mt-4 flex flex-wrap gap-1">
                            <span class="bg-blue-100 text-blue-600 px-2 py-0.5 rounded text-xs">Verification</span>
                            <span class="bg-purple-100 text-purple-600 px-2 py-0.5 rounded text-xs">AI Safety</span>
                        </div>
                    </div>
                    
                    <div class="hidden lg:block border-2 border-neutral-200 rounded-xl p-5 bg-white shadow-sm hover:shadow-md hover:border-neutral-300 transition-all">
                        <div class="flex items-center gap-3">
                            <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-5.jpg" class="w-12 h-12 rounded-full object-cover">
                            <div>
                                <p class="text-sm font-semibold text-left">Dr. Danielle Bassett</p>
                                <p class="text-xs text-neutral-500 text-left">Professor, Bioengineering</p>
                                <p class="text-xs text-blue-600 text-left">University of Pennsylvania</p>
                            </div>
                        </div>
                        <div class="mt-4 space-y-3 text-xs">
                            <div class="flex justify-between items-center">
                                <p class="text-neutral-600">H-Index:</p>
                                <span class="bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-medium">89</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <p class="text-neutral-600">Citations:</p>
                                <span class="bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium">31,890</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <p class="text-neutral-600">Recent Papers:</p>
                                <span class="bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-medium">15 (2024)</span>
                            </div>
                        </div>
                        <div class="mt-4 flex flex-wrap gap-1">
                            <span class="bg-neutral-100 text-neutral-600 px-2 py-0.5 rounded text-xs">Networks</span>
                            <span class="bg-neutral-100 text-neutral-600 px-2 py-0.5 rounded text-xs">Neuroscience</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
            </div>
        </section>

        <section id="features-section" class="py-24 md:py-32 bg-gradient-to-b from-neutral-50 to-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center max-w-4xl mx-auto">
                    <h2 class="text-4xl md:text-5xl tracking-tight text-neutral-900">Everything you need to find the right lab</h2>
                    <p class="mt-6 text-xl text-neutral-600 leading-relaxed">Our platform streamlines your search for academic research opportunities with powerful tools and comprehensive data.</p>
                </div>
                <div class="mt-20 grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="p-8 bg-white rounded-2xl border-2 border-neutral-200 hover:border-neutral-400 hover:shadow-lg transition-all group">
                        <div class="flex items-center justify-center h-16 w-16 rounded-2xl bg-neutral-900 text-white mb-6 group-hover:scale-110 transition-transform">
                            <i class="fa-solid fa-magnifying-glass text-2xl"></i>
                        </div>
                        <h3 class="text-xl text-neutral-900 mb-3">Powerful Search</h3>
                        <p class="text-neutral-600 leading-relaxed">Filter researchers by name, university, or specific field of interest to quickly find relevant opportunities.</p>
                    </div>
                    <div class="p-8 bg-white rounded-2xl border-2 border-neutral-200 hover:border-neutral-400 hover:shadow-lg transition-all group">
                        <div class="flex items-center justify-center h-16 w-16 rounded-2xl bg-neutral-700 text-white mb-6 group-hover:scale-110 transition-transform">
                            <i class="fa-solid fa-chart-line text-2xl"></i>
                        </div>
                        <h3 class="text-xl text-neutral-900 mb-3">Activity Metrics</h3>
                        <p class="text-neutral-600 leading-relaxed">See who's actively publishing with up-to-date metrics on total publications and yearly averages.</p>
                    </div>
                    <div class="p-8 bg-white rounded-2xl border-2 border-neutral-200 hover:border-neutral-400 hover:shadow-lg transition-all group">
                        <div class="flex items-center justify-center h-16 w-16 rounded-2xl bg-neutral-500 text-white mb-6 group-hover:scale-110 transition-transform">
                            <i class="fa-solid fa-link text-2xl"></i>
                        </div>
                        <h3 class="text-xl text-neutral-900 mb-3">Direct Connections</h3>
                        <p class="text-neutral-600 leading-relaxed">Access contact information and direct links to publication lists to easily get in touch with professors.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="how-it-works-section" class="py-24 md:py-32 bg-white">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center max-w-4xl mx-auto">
            <h2 class="text-4xl md:text-5xl tracking-tight text-neutral-900">Get started in three simple steps</h2>
            <p class="mt-6 text-xl text-neutral-600 leading-relaxed">Connecting with top researchers has never been easier. Follow our straightforward process to begin your academic journey.</p>
        </div>
        
        <div class="mt-20 max-w-3xl mx-auto">
            <div class="relative">
                <div class="absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-neutral-300 via-neutral-200 to-neutral-100 hidden md:block"></div>
                
                <div class="space-y-16">
                    <div id="step-one" class="relative flex items-start gap-8">
                        <div class="flex-shrink-0 relative">
                            <div class="absolute -top-2 -right-2 bg-neutral-900 text-white px-2 py-0.5 rounded-full text-xs font-medium z-20">
                                01
                            </div>
                            <div class="flex items-center justify-center h-16 w-16 bg-gradient-to-br from-neutral-900 to-neutral-700 text-white rounded-xl text-xl shadow-lg z-10 relative">
                                <i class="fa-solid fa-magnifying-glass"></i>
                            </div>
                        </div>
                        <div class="flex-1 pt-2">
                            <h3 class="text-2xl text-neutral-900 mb-3">Search &amp; Discover</h3>
                            <p class="text-neutral-600 leading-relaxed text-lg">Enter your desired university, field of interest, or a specific professor's name to start your search. Our intelligent filters help you narrow down thousands of researchers instantly.</p>
                        </div>
                    </div>
                    
                    <div id="step-two" class="relative flex items-start gap-8">
                        <div class="flex-shrink-0 relative">
                            <div class="absolute -top-2 -right-2 bg-neutral-700 text-white px-2 py-0.5 rounded-full text-xs font-medium z-20">
                                02
                            </div>
                            <div class="flex items-center justify-center h-16 w-16 bg-gradient-to-br from-neutral-700 to-neutral-500 text-white rounded-xl text-xl shadow-lg z-10 relative">
                                <i class="fa-solid fa-filter"></i>
                            </div>
                        </div>
                        <div class="flex-1 pt-2">
                            <h3 class="text-2xl text-neutral-900 mb-3">Filter &amp; Analyze</h3>
                            <p class="text-neutral-600 leading-relaxed text-lg">Sort results by publication activity, research impact, and collaboration history to identify the most active and relevant researchers for your academic goals.</p>
                        </div>
                    </div>
                    
                    <div id="step-three" class="relative flex items-start gap-8">
                        <div class="flex-shrink-0 relative">
                            <div class="absolute -top-2 -right-2 bg-neutral-500 text-white px-2 py-0.5 rounded-full text-xs font-medium z-20">
                                03
                            </div>
                            <div class="flex items-center justify-center h-16 w-16 bg-gradient-to-br from-neutral-500 to-neutral-400 text-white rounded-xl text-xl shadow-lg z-10 relative">
                                <i class="fa-solid fa-handshake"></i>
                            </div>
                        </div>
                        <div class="flex-1 pt-2">
                            <h3 class="text-2xl text-neutral-900 mb-3">Connect &amp; Collaborate</h3>
                            <p class="text-neutral-600 leading-relaxed text-lg">View detailed profiles with publication histories, contact information, and research interests. Reach out directly to begin meaningful research collaborations.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

        <section id="cta-section" class="bg-gradient-to-b from-neutral-50 to-white py-24">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="relative">
                    <div class="absolute inset-0 bg-neutral-900 rounded-3xl"></div>
                    <div class="relative p-12 md:p-20 text-center">
                        <h2 class="text-4xl md:text-5xl tracking-tight text-white mb-6">Ready to find your research home?</h2>
                        <p class="text-xl text-neutral-300 max-w-3xl mx-auto leading-relaxed mb-10">Create your free account today and unlock powerful tools to connect with the academic community. No credit card required.</p>
                        <a href="https://app.thescholarlink.io/" class="bg-white text-neutral-900 px-8 py-4 rounded-xl text-lg hover:bg-neutral-100 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 inline-block">
                            Start Your Free Search
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer id="footer" class="bg-white border-t border-neutral-200">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="flex flex-col md:flex-row justify-between items-center text-center md:text-left">
                <div class="mb-6 md:mb-0">
                    <div class="flex items-center justify-center md:justify-start mb-2 overflow-hidden">
                        <img src="ScholarLink-logo-removebg-preview.png" alt="ScholarLink Logo" class="h-32 w-auto transform scale-200">
                    </div>
                    <p class="text-neutral-600">© 2025 ScholarLink. All rights reserved.</p>
                </div>
                <div class="flex space-x-6">
                    <span class="text-neutral-600 hover:text-neutral-900 transition-colors cursor-pointer">Privacy</span>
                    <span class="text-neutral-600 hover:text-neutral-900 transition-colors cursor-pointer">Terms</span>
                    <span class="text-neutral-600 hover:text-neutral-900 transition-colors cursor-pointer">Contact</span>
                </div>
            </div>
        </div>
    </footer>

</div>

<style>
/* CSS Variables for customization */
:root {
    --wipe-duration: 0.85s;
    --hold: 1.2s;
    --rotate-min-width: 6ch;
}

/* Hero headline styles */
.hero {
    font-size: 3rem; /* text-5xl */
    line-height: 1.25; /* leading-tight */
    font-weight: 700;
    font-family: 'Inter', sans-serif;
    color: #171717; /* text-neutral-900 */
    text-align: left; /* Changed to left align */
    margin: 0;
    letter-spacing: -0.025em; /* tracking-tight */
    display: block; /* Changed to block for proper alignment */
    max-width: fit-content; /* Allow natural width */
    margin-left: auto; /* Center the block */
    margin-right: auto; /* Center the block */
    transform: translateX(2em); /* Move the entire block to the right to center it visually */
}

@media (min-width: 768px) {
    .hero {
        font-size: 4.5rem; /* md:text-7xl */
    }
}

/* The line that holds "research" + rotating word */
.hero-line {
    display: inline-flex;
    align-items: baseline;
    gap: 0.08em;
    min-height: 1.2em; /* Ensure consistent height */
    justify-content: flex-start; /* Align to the left so "research" aligns with "Find" */
    font-family: 'Inter', sans-serif;
}

/* Make sure both words share identical typography */
.hero-word,
.rotate__inner {
    font-family: 'Inter', sans-serif;
    font-weight: 400;
    line-height: 1;
}

/* Rotating word container */
.rotate {
    display: inline-block;
    position: relative;
    isolation: isolate;
    white-space: nowrap;
    vertical-align: baseline;
    overflow: hidden;
    text-align: left;
    width: var(--rotate-width);
    min-width: 10ch; /* Increased minimum width to accommodate "opportunity" */
    padding-left: 0.08em;
    margin-left: 0.04em;
    transform: none;
}

/* Inner text with gradient */
.rotate__inner {
    display: inline-block;
    background: linear-gradient(90deg, #7c3aed, #22d3ee, #f59e0b);
    background-size: 200% 100%;
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    animation: drift 12s linear infinite;
    will-change: background-position;
    line-height: 1;
}

/* Wipe overlay */
.rotate__wipe {
    position: absolute;
    inset: 0;
    background: var(--wipe-bg, #fff);
    transform: translateX(-100%) translateZ(0);
    pointer-events: none;
    z-index: 2;
    border-radius: 0.08em;
}

/* Start the wipe when parent gets the class */
.rotate.is-wiping .rotate__wipe {
    animation: wipe-in-out var(--wipe-duration) cubic-bezier(.22,.61,.36,1) forwards;
    will-change: transform;
}

/* Gradient drift animation */
@keyframes drift {
    to {
        background-position: 200% 0;
    }
}

/* Wipe slides in (cover), then slides out (reveal) */
@keyframes wipe-in-out {
    0% {
        transform: translateX(-100%);
    }
    45% {
        transform: translateX(0%);
    }
    55% {
        transform: translateX(0%);
    }
    100% {
        transform: translateX(100%);
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .rotate__inner {
        animation: none;
    }
    
    .rotate.is-wiping .rotate__wipe {
        animation: none;
    }
}

/* Nice focus ring if you make it interactive later */
.rotate:focus-visible {
    outline: 2px dashed #22d3ee;
    outline-offset: 4px;
    border-radius: 4px;
}

/* Safari-specific baseline adjustment if needed */
@supports (-webkit-touch-callout: none) {
    .rotate {
        transform: translateY(0.01em);
    }
}
</style>

<script>
// Utility: wait for next animation frame
const nextFrame = () => new Promise(r => requestAnimationFrame(() => r()));

// Multi-instance initializer
document.querySelectorAll('.rotate').forEach(initRotate);

function initRotate(rotate) {
    const inner = rotate.querySelector('.rotate__inner');
    const wipe = rotate.querySelector('.rotate__wipe');

    // Parse words from data attribute
    let words;
    try {
        words = JSON.parse(rotate.getAttribute('data-words') || '[]');
    } catch (e) {
        words = [];
    }
    if (!Array.isArray(words) || words.length === 0) {
        words = [inner.textContent.trim()];
    }

    // Set the exact width based on the longest word
    function setWidestWidth() {
        const measurer = document.createElement('span');
        const cs = getComputedStyle(inner);
        Object.assign(measurer.style, {
            position: 'absolute',
            left: '-9999px',
            top: '0',
            whiteSpace: 'nowrap',
            font: cs.font,
            fontWeight: cs.fontWeight,
            letterSpacing: cs.letterSpacing,
            paddingLeft: cs.paddingLeft,
            marginLeft: cs.marginLeft,
            fontSize: cs.fontSize,
            fontFamily: cs.fontFamily
        });
        document.body.appendChild(measurer);

        let max = 0;
        (words.length ? words : [inner.textContent]).forEach(w => {
            measurer.textContent = w;
            const rect = measurer.getBoundingClientRect();
            max = Math.max(max, rect.width);
        });
        measurer.remove();

        // Add a larger buffer to ensure the longest word (opportunity) is fully visible
        const px = Math.ceil(max) + 30;
        rotate.style.setProperty('--rotate-width', px + 'px');
        
        // Force a reflow to ensure the width is applied
        rotate.offsetHeight;
    }

    // Simple initialization
    function initRotate() {
        // Set initial word
        inner.textContent = words[0];
        // Measure and set width after a brief delay to ensure fonts are loaded
        setTimeout(() => {
            setWidestWidth();
        }, 100);
        
        // Also measure again after a longer delay to ensure all fonts are definitely loaded
        setTimeout(() => {
            setWidestWidth();
        }, 1000);
    }

    // Respect reduced motion with change listener
    const mq = window.matchMedia('(prefers-reduced-motion: reduce)');
    let prefersReduced = mq.matches;
    mq.addEventListener?.('change', e => { 
        prefersReduced = e.matches; 
    });

    // Simple initialization
    initRotate();
    
    // Re-measure on font load and resize
    if (document.fonts && document.fonts.ready) {
        document.fonts.ready.then(() => {
            setWidestWidth();
        });
    } else {
        // Fallback for browsers without font loading API
        setTimeout(setWidestWidth, 500);
    }
    window.addEventListener('resize', setWidestWidth);

    // Cycling logic
    let index = 0;
    let destroyed = false;

    async function cycle() {
        if (destroyed) return;

        // Read CSS variables from the rotate element's computed style
        const computedStyle = getComputedStyle(rotate);
        const holdMs = parseFloat(computedStyle.getPropertyValue('--hold')) * 1000 || 1800;
        const wipeDurationMs = parseFloat(computedStyle.getPropertyValue('--wipe-duration')) * 1000 || 850;

        await new Promise(r => setTimeout(r, holdMs));

        if (prefersReduced) {
            // No wipe animation; just swap text
            index = (index + 1) % words.length;
            inner.textContent = words[index];
            // Continue loop
            cycle();
            return;
        }

        // Trigger wipe animation
        rotate.classList.add('is-wiping');

        // Swap text at the midpoint of the wipe (40% cover, 60% reveal for better readability)
        const midpoint = Math.round(wipeDurationMs * 0.5);
        await new Promise(r => setTimeout(r, midpoint));

        index = (index + 1) % words.length;
        inner.textContent = words[index];

        // Wait for the rest of the wipe to complete
        await new Promise(r => setTimeout(r, wipeDurationMs - midpoint));

        // Ensure animation class is cleared (in case animationend is missed)
        rotate.classList.remove('is-wiping');

        // One extra frame to avoid reflow jank before next cycle
        await nextFrame();

        cycle();
    }

    // Optional: also listen to animationend for robustness
    wipe.addEventListener('animationend', () => {
        rotate.classList.remove('is-wiping');
    });

    // Visibility pause for battery-friendly behavior
    document.addEventListener('visibilitychange', () => {
        destroyed = document.hidden;
        if (!destroyed) cycle();
    });

    // Kick it off
    cycle();

    // Cleanup if the page is navigated in a SPA, etc.
    window.addEventListener('beforeunload', () => {
        destroyed = true;
    });
}
</script>

</body>
</html>
